import{i as a,s as t}from"./index-KtrVGIDC.js";const i=(s,r=[])=>({firstName:s.first_name||"",lastName:s.last_name||"",email:"",phone:s.phone||"",documentType:s.document_type||"DNI",documentNumber:s.document_number||"",addresses:r.map(e=>({id:e.id,street:e.street||"",district:e.district||"",province:e.province||"",department:e.department||"",reference:e.reference||void 0}))}),m=async s=>{if(!a()||!t)return null;const{data:r,error:e}=await t.from("user_profiles").select("*").eq("id",s).single();if(e||!r)return null;const{data:n}=await t.from("user_addresses").select("*").eq("user_id",s);return i(r,n||[])},c=async()=>{if(!a()||!t)return[];const{data:s,error:r}=await t.from("user_profiles").select("*").order("created_at",{ascending:!1});return r?[]:(s||[]).map(e=>({id:e.id,email:"",firstName:e.first_name||"",lastName:e.last_name||"",phone:e.phone||""}))};export{m as a,c as g};
