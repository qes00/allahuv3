import{a as b,j as e,B as N}from"./index-KtrVGIDC.js";import{u as w,r,R as y}from"./router-CF4w8fas.js";import"./state-CToor5Tf.js";const A=()=>{const a=w(),{signIn:p,signOut:c,user:i}=b(),[u,g]=r.useState(""),[m,v]=r.useState(""),[o,n]=r.useState(!1),[x,l]=r.useState(""),[h,f]=r.useState("");y.useEffect(()=>{i?.role==="admin"?a("/admin"):i?.role==="customer"&&(f("Cerrando sesión de cliente para acceder al panel de administración..."),c().then(()=>{setTimeout(()=>{f("")},2e3)}))},[i,a,c]);const j=async s=>{s.preventDefault(),l(""),n(!0);try{const d=await p(u,m);d.success?setTimeout(()=>{b.getState().user?.role==="admin"?a("/admin"):(l("Acceso denegado. Esta cuenta no tiene permisos de administrador."),n(!1))},500):(l(d.error||"Credenciales incorrectas"),n(!1))}catch{l("Error al iniciar sesión"),n(!1)}};return e.jsx("div",{className:t.container,children:e.jsxs("div",{className:t.card,children:[e.jsxs("div",{className:t.header,children:[e.jsx("div",{className:t.iconContainer,children:e.jsx("svg",{className:"w-12 h-12 text-gold-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h1",{className:t.title,children:"Panel de Administración"}),e.jsx("p",{className:t.subtitle,children:"Acceso restringido solo para administradores"})]}),e.jsxs("form",{onSubmit:j,className:t.form,children:[h&&e.jsxs("div",{className:t.infoAlert,children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("span",{children:h})]}),x&&e.jsxs("div",{className:t.errorAlert,children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:x})]}),e.jsxs("div",{children:[e.jsx("label",{className:t.label,children:"Correo Electrónico"}),e.jsx("input",{type:"email",required:!0,value:u,onChange:s=>g(s.target.value),className:t.input,placeholder:"admin@ejemplo.com",disabled:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:t.label,children:"Contraseña"}),e.jsx("input",{type:"password",required:!0,minLength:8,value:m,onChange:s=>v(s.target.value),className:t.input,placeholder:"••••••••",disabled:o})]}),e.jsx(N,{type:"submit",className:"w-full",disabled:o,children:o?"Verificando...":"Acceder al Panel"}),e.jsx("div",{className:t.footer,children:e.jsx("button",{type:"button",onClick:()=>a("/"),className:t.backButton,children:"← Volver a la tienda"})})]}),e.jsxs("div",{className:t.securityNote,children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("span",{children:"Todos los intentos de acceso son registrados"})]})]})})},t={container:"min-h-screen bg-gradient-to-br from-stone-100 via-gold-50 to-stone-100 flex items-center justify-center p-4",card:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 border border-stone-200",header:"text-center mb-8",iconContainer:"mx-auto w-20 h-20 bg-gold-100 rounded-full flex items-center justify-center mb-4",title:"text-2xl font-bold text-black mb-2",subtitle:"text-sm text-stone-600 font-medium",form:"space-y-6",label:"block text-sm font-bold text-stone-900 mb-2",input:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white text-black font-medium focus:ring-2 focus:ring-gold-500 focus:border-gold-500 outline-none disabled:bg-stone-100 disabled:cursor-not-allowed transition-colors",infoAlert:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium",errorAlert:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium",footer:"text-center pt-4 border-t border-stone-200",backButton:"text-sm text-stone-600 hover:text-gold-700 font-medium transition-colors",securityNote:"mt-6 flex items-center justify-center gap-2 text-xs text-stone-500 font-medium"};export{A as AdminLoginPage};
